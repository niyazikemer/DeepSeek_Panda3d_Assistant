{
  "content": "The code chunk pertains to configuration settings for using optimized wheels in a build process. It handles determining an appropriate wheel index URL when `use_optimized_wheels` is enabled, including fallback logic and validation checks. This context is relevant during setup or build command execution, particularly within the `finalize_options()` method of a custom command class.\n\nThe chunk fits into the overall document as part of handling configuration for optimized wheels, ensuring that the correct index URL is identified and validated before proceeding with the build process.\n\nif self.use_optimized_wheels:\n            if not self.optimized_wheel_index:\n                # Try to find an appropriate wheel index\n\n                # Start with the release index\n                self.optimized_wheel_index = 'https://archive.panda3d.org/simple/opt'\n\n                # See if a buildbot build is being used\n                with open(self.requirements_path) as reqsfile:\n                    reqsdata = reqsfile.read()\n                matches = re.search(r'--extra-index-url (https*://archive.panda3d.org/.*\\b)', reqsdata)\n                if matches and matches.group(1):\n                    self.optimized_wheel_index = matches.group(1)\n                    if not matches.group(1).endswith('opt'):\n                        self.optimized_wheel_index += '/opt'\n\n            assert self.optimized_wheel_index, 'An index for optimized wheels must be defined if use_optimized_wheels is set'",
  "metadata": {
    "doc_type": "python",
    "doc_id": "doc_132",
    "parent": "processed_documents/context_documents/871bb042_commands.json",
    "chunk_number": 1943
  }
}