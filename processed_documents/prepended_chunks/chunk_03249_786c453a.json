{
  "content": "The `scale3D` function is part of a class responsible for handling 3D object manipulation, specifically scaling operations using interactive handles. This function initializes and updates the scale transformation based on user interaction points, ensuring smooth scaling in a multi-view environment. It interacts with widget controls and handles edge cases like division by zero during calculations.\n\nContext:\nThe `scale3D` method is situated within a class managing 3D object transformations, particularly scaling operations. It operates alongside other manipulation functions such as movement and rotation, utilizing interactive handles for precise control. The function initializes scale parameters upon the first interaction and updates the scaling based on subsequent user input, ensuring robust handling of edge cases to maintain stability.\n\ndef scale3D(self, state):\n        direct = ShowBaseGlobal.direct\n        if hasattr(direct, \"manipulationControl\") and direct.manipulationControl.fMultiView:\n            if self.useSeparateScaleHandles:\n                assert self.constraint is not None\n                self.hitPtScale.assign(self.objectHandles.getAxisIntersectPt(self.constraint[:1]))\n                self.hitPtScale = self.objectHandles.getMat().xformVec(self.hitPtScale)\n                if self.fScaleInit1:\n                    # First time through just record hit point\n                    self.fScaleInit1 = 0\n                    self.prevHitScale.assign(self.hitPtScale)\n                    self.origScale = direct.widget.getScale()\n                else:\n                    widgetPos = direct.widget.getPos()\n                    d0 = (self.prevHitScale).length()\n                    if d0 == 0: #make sure we don't divide by zero\n                        d0 = 0.001\n                    d1 = (self.hitPtScale).length()",
  "metadata": {
    "doc_type": "python",
    "doc_id": "doc_179",
    "parent": "processed_documents/context_documents/4f678cc8_DirectManipulation.json",
    "chunk_number": 3249
  }
}