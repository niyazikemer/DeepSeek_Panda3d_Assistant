{
  "content": "\"\"\"Contains the DirectScrolledFrame class.\n\nSee the :ref:`directscrolledframe` page in the programming manual for a more\nin-depth explanation and an example of how to use this class.\n\"\"\"\n\n__all__ = ['DirectScrolledFrame']\n\nfrom panda3d.core import NodePath, PGScrollFrame\nfrom . import DirectGuiGlobals as DGG\nfrom .DirectFrame import DirectFrame\nfrom .DirectScrollBar import DirectScrollBar\n\n\nclass DirectScrolledFrame(DirectFrame):\n    \"\"\"\n    DirectScrolledFrame -- a special frame that uses DirectScrollBar to\n    implement a small window (the frameSize) into a potentially much\n    larger virtual canvas (the canvasSize, scrolledFrame.getCanvas()).\n\n    Unless specified otherwise, scroll bars are automatically created\n    and managed as needed, based on the relative sizes od the\n    frameSize and the canvasSize.  You can also set manageScrollBars =\n    0 and explicitly position and hide or show the scroll bars\n    yourself.\n    \"\"\"\n\n    def __init__(self, parent = None, **kw):\n        optiondefs = (\n            # Define type of DirectGuiWidget\n            ('pgFunc',         PGScrollFrame,      None),\n            ('frameSize',      (-0.5, 0.5, -0.5, 0.5), None),\n\n            ('canvasSize',     (-1, 1, -1, 1),        self.setCanvasSize),\n            ('manageScrollBars', 1,                self.setManageScrollBars),\n            ('autoHideScrollBars', 1,              self.setAutoHideScrollBars),\n            ('scrollBarWidth', 0.08,               self.setScrollBarWidth),\n            ('borderWidth',    (0.01, 0.01),       self.setBorderWidth),\n        )\n\n        # Merge keyword options with default options\n        self.defineoptions(kw, optiondefs)\n\n        # Initialize superclasses\n        DirectFrame.__init__(self, parent)\n\n        # The scrollBarWidth parameter is just used at scroll bar\n        # construction time, and supplies a default frame.  It does\n        # not override an explicit frame specified on the scroll bar.\n        # If you want to change the frame width after construction,\n        # you must specify their frameSize tuples explicitly.\n        w = self['scrollBarWidth']\n\n        self.verticalScroll = self.createcomponent(\n            \"verticalScroll\", (), None,\n            DirectScrollBar, (self,),\n            borderWidth = self['borderWidth'],\n            frameSize = (-w / 2.0, w / 2.0, -1, 1),\n            orientation = DGG.VERTICAL)\n\n        self.horizontalScroll = self.createcomponent(\n            \"horizontalScroll\", (), None,\n            DirectScrollBar, (self,),\n            borderWidth = self['borderWidth'],\n            frameSize = (-1, 1, -w / 2.0, w / 2.0),\n            orientation = DGG.HORIZONTAL)\n\n        self.guiItem.setVerticalSlider(self.verticalScroll.guiItem)\n        self.guiItem.setHorizontalSlider(self.horizontalScroll.guiItem)\n\n        self.canvas = NodePath(self.guiItem.getCanvasNode())\n\n        # Call option initialization functions\n        self.initialiseoptions(DirectScrolledFrame)\n\n    def setScrollBarWidth(self):\n        if self.fInit:\n            return\n\n        w = self['scrollBarWidth']\n        self.verticalScroll[\"frameSize\"] = (-w / 2.0, w / 2.0, self.verticalScroll[\"frameSize\"][2], self.verticalScroll[\"frameSize\"][3])\n        self.horizontalScroll[\"frameSize\"] = (self.horizontalScroll[\"frameSize\"][0], self.horizontalScroll[\"frameSize\"][1], -w / 2.0, w / 2.0)\n\n    def setCanvasSize(self):\n        f = self['canvasSize']\n        self.guiItem.setVirtualFrame(f[0], f[1], f[2], f[3])\n\n    def getCanvas(self):\n        \"\"\"Returns the NodePath of the virtual canvas.  Nodes parented to this\n        canvas will show inside the scrolled area.\n        \"\"\"\n        return self.canvas\n\n    def setManageScrollBars(self):\n        self.guiItem.setManagePieces(self['manageScrollBars'])\n\n    def setAutoHideScrollBars(self):\n        self.guiItem.setAutoHide(self['autoHideScrollBars'])\n\n    def commandFunc(self):\n        if self['command']:\n            self['command'](*self['extraArgs'])\n\n    def destroy(self):\n        # Destroy children of the canvas\n        for child in self.canvas.getChildren():\n            childGui = self.guiDict.get(child.getName())\n            if childGui:\n                childGui.destroy()\n            else:\n                parts = child.getName().split('-')\n                simpleChildGui = self.guiDict.get(parts[-1])\n                if simpleChildGui:\n                    simpleChildGui.destroy()\n        if self.verticalScroll:\n            self.verticalScroll.destroy()\n        if self.horizontalScroll:\n            self.horizontalScroll.destroy()\n        self.verticalScroll = None\n        self.horizontalScroll = None\n        DirectFrame.destroy(self)\n",
  "metadata": {
    "source": "corpus_panda3d/source_code/direct/src/gui/DirectScrolledFrame.py",
    "doc_type": "python",
    "file_path": "processed_documents/context_documents/680bc0fa_DirectScrolledFrame.json",
    "doc_id": "doc_74"
  }
}