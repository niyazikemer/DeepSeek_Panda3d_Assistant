{
  "content": "The 2D Display Region\n\nThere is one more DisplayRegion that Panda normally creates automatically for the main window. This is the 2-D DisplayRegion that renders the onscreen GUI or heads-up display. It is simply another DisplayRegion that covers the entire screen, like the 3-D DisplayRegion it layers on top of, except that its camera has an Orthographic Lens <orthographic-lenses> instead of a normal Perspective Lens <lenses-and-field-of-view>.\n\nThis is the DisplayRegion associated with render2d, and is normally used to render all of the gui elements and onscreen text items you may lay on top of the screen.\n\nIf you are creating a secondary window or buffer, and you would like to layer 2-D elements on top of the screen, you can do so by simply creating a 2-D scene similar to render2d. Some sample code to do so is shown here:\n\npython\n\ndr = win.makeDisplayRegion()\ndr.sort = 20\n\nmyCamera2d = NodePath(Camera('myCam2d'))\nlens = OrthographicLens()\nlens.setFilmSize(2, 2)\nlens.setNearFar(-1000, 1000)\nmyCamera2d.node().setLens(lens)\n\nmyRender2d = NodePath('myRender2d')\nmyRender2d.setDepthTest(False)\nmyRender2d.setDepthWrite(False)\nmyCamera2d.reparentTo(myRender2d)\ndr.setCamera(myCamera2d)\n\ncpp\n\nPT(DisplayRegion) dr = win->make_display_region();\ndr->set_sort(20);\n\nNodePath myCamera2d(new Camera(\"myCam2d\"));\nPT(OrthographicLens) lens = new OrthographicLens;\nlens->set_film_size(2, 2);\nlens->set_near_far(-1000, 1000)\n((Camera *)myCamera2d.node())->set_lens(lens);\n\nNodePath myRender2d(\"myRender2d\");\nmyRender2d.set_depth_test(false);\nmyRender2d.set_depth_write(false);\nmyCamera2d.reparent_to(myRender2d);\ndr->set_camera(myCamera2d)\n\nThe first group of commands creates a new DisplayRegion on the window and sets its sort value to 20, so that it will be drawn after the main DisplayRegion has been drawn. This is important in order to layer text on top of the 3-D scene, of course.\n\nThe second group of commands creates a camera with an OrthographicLens. The lens is created with a wide near/far clipping plane: -1000 to 1000. This probably doesn't matter too much since we expect that everything we parent to this scene graph will have a Y value of 0 (which is easily between -1000 and 1000), but this allows us to accept a wide range of Y values.\n\nThe third group of commands sets up the myRender2d scene graph. It is just an ordinary node, with a few properties set on it, and the 2-D camera we have just created attached to it. We turn off the depth test and depth write properties because these are not important for a 2-D scene graph, and we don't want them to get in the way of our gui elements.\n\npython\n\nDirectGui in your new window\n\nNote that if you wish to create any DirectGui <directgui> elements, like buttons or other clickable widgets, in the new 2-D scene graph, and interact with them, you have just a bit more set-up to do. DirectGui has a special mechanism to connect it to the mouse pointer, which requires that all of its interactive objects be attached directly or indirectly to a PGTop node. In the default main window, this PGTop node is aspect2d, a special node created both to compensate for the non-square aspect ratio of the window, and also to be the special PGTop node required by DirectGui. If you are creating your own 2-D scene graph, you can create your own aspect2d node something like this:\n\naspectRatio = base.getAspectRatio()\nmyAspect2d = myRender2d.attachNewNode(PGTop('myAspect2d'))\nmyAspect2d.setScale(1.0 / aspectRatio, 1.0, 1.0)\nmyAspect2d.node().setMouseWatcher(base.mouseWatcherNode)\n\nIf this is for a different window than base.win, you will probably need to also create your own MouseWatcher, other than base.mouseWatcherNode, to manage the mouse associated with your new window. See elsewhere for more information about this.",
  "metadata": {
    "source": "corpus_panda3d/collected_docs/80cd6c1e_2d-display-region.rst",
    "doc_type": "rst",
    "file_path": "processed_documents/context_documents/baabada6_80cd6c1e_2d-display-region.json",
    "doc_id": "doc_571"
  }
}