{
  "content": "Path Follow\n\n'Path Follow' is a behavior where an AICharacter moves from one path to the other without stopping at any path. It can be used for a patrolling type of behavior.\n\nhttps://www.youtube.com/watch?v=hIDyzUJgu2w\n\nIn PandAI, path follow is defined as :\n\naiBehaviors.pathFollow(float priority)\naiBehaviors.addToPath(Vec3 position)\n\naiBehaviors.startFollow() // Required to start the follow\n\nPosition is a point in 3D space which falls on the path which the AI Character needs to traverse.\n\n(Note: that you need to add multiple positions to create a path say for example Vec3(-10,10,0) Vec3(0,0,0) Vec3(10,10,0) Vec3(-10,10,0) will generate a rectangular path in the XY plane)\n\nNote: the addToPath works backwards. So, your last call to addToPath will be your first position your AICharacter will go to.\n\nThe full working code in Panda3D is :\n\nimport direct.directbase.DirectStart\nfrom panda3d.core import *\nfrom direct.task import Task\nfrom direct.actor.Actor import Actor\nfrom panda3d.ai import *\n\nclass World(object):\n\n    def __init__(self):\n        base.disableMouse()\n        base.cam.setPosHpr(0, 0, 55, 0, -90, 0)\n\n        self.loadModels()\n        self.setAI()\n\n    def loadModels(self):\n        # Seeker\n        ralphStartPos = Vec3(-10, 0, 0)\n        self.seeker = Actor(\"models/ralph\",\n                            {\"run\":\"models/ralph-run\"})\n        self.seeker.reparentTo(render)\n        self.seeker.setScale(0.5)\n        self.seeker.setPos(ralphStartPos)\n        # Target1\n        self.target1 = loader.loadModel(\"models/arrow\")\n        self.target1.setColor(1,0,0)\n        self.target1.setPos(10,-10,0)\n        self.target1.setScale(1)\n        self.target1.reparentTo(render)\n        # Target2\n        self.target2 = loader.loadModel(\"models/arrow\")\n        self.target2.setColor(0,1,0)\n        self.target2.setPos(10,10,0)\n        self.target2.setScale(1)\n        self.target2.reparentTo(render)\n        # Target3\n        self.target3 = loader.loadModel(\"models/arrow\")\n        self.target3.setColor(0,0,1)\n        self.target3.setPos(-10,10,0)\n        self.target3.setScale(1)\n        self.target3.reparentTo(render)\n        # Target4\n        self.target4 = loader.loadModel(\"models/arrow\")\n        self.target4.setColor(1,0,1)\n        self.target4.setPos(-10,-10,0)\n        self.target4.setScale(1)\n        self.target4.reparentTo(render)\n\n        self.seeker.loop(\"run\")\n\n    def setAI(self):\n        # Creating AI World\n        self.AIworld = AIWorld(render)\n\n        self.AIchar = AICharacter(\"seeker\", self.seeker, 60, 0.05, 5)\n        self.AIworld.addAiChar(self.AIchar)\n        self.AIbehaviors = self.AIchar.getAiBehaviors()\n\n        # Path follow (note the order is reveresed)\n        self.AIbehaviors.pathFollow(1.0)\n        self.AIbehaviors.addToPath(self.target4.getPos())\n        self.AIbehaviors.addToPath(self.target3.getPos())\n        self.AIbehaviors.addToPath(self.target2.getPos())\n        self.AIbehaviors.addToPath(self.target1.getPos())\n\n        self.AIbehaviors.startFollow()\n\n        #AI World update\n        taskMgr.add(self.AIUpdate, \"AIUpdate\")\n\n    def AIUpdate(self,task):\n        self.AIworld.update()\n        return Task.cont\n\nw = World()\nbase.run()\n\nTo get the full working demo, please visit:\n\nhttps://sites.google.com/site/etcpandai/documentation/steering-behaviors/path-follow/PandAIPathFollowTutorial.zip?attredirects=0&d=1",
  "metadata": {
    "source": "corpus_panda3d/collected_docs/53624206_path-follow.rst",
    "doc_type": "rst",
    "file_path": "processed_documents/context_documents/b574a7d5_53624206_path-follow.json",
    "doc_id": "doc_490"
  }
}